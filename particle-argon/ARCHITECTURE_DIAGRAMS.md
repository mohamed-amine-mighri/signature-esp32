# Particle Argon DSA Project - Visual Architecture & Workflow

## System Architecture Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        PARTICLE ARGON DEVICE                                â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                    PARTICLE DEVICE OS (Wiring)                      â”‚   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚   â”‚
â”‚  â”‚  â”‚              USER APPLICATION (particle_argon.ino)        â”‚    â”‚   â”‚
â”‚  â”‚  â”‚                                                            â”‚    â”‚   â”‚
â”‚  â”‚  â”‚  setup()  â†’  Initialization & Event Subscriptions         â”‚    â”‚   â”‚
â”‚  â”‚  â”‚                                                            â”‚    â”‚   â”‚
â”‚  â”‚  â”‚  loop()   â†’  Main Application Loop                        â”‚    â”‚   â”‚
â”‚  â”‚  â”‚   â”œâ”€ Check cloud connectivity                             â”‚    â”‚   â”‚
â”‚  â”‚  â”‚   â”œâ”€ Monitor for inbound events                           â”‚    â”‚   â”‚
â”‚  â”‚  â”‚   â”œâ”€ Run DSA tests when ready                             â”‚    â”‚   â”‚
â”‚  â”‚  â”‚   â””â”€ Send messages via Particle.publish()                 â”‚    â”‚   â”‚
â”‚  â”‚  â”‚                                                            â”‚    â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚   â”‚
â”‚  â”‚                              â”‚                                       â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚   â”‚
â”‚  â”‚  â”‚         Particle Cloud Manager & Event System             â”‚    â”‚   â”‚
â”‚  â”‚  â”‚                                                            â”‚    â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ Particle.publish()    â†’ Send events to cloud           â”‚    â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ Particle.subscribe()  â†’ Receive peer events            â”‚    â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ Particle.onConnect()  â†’ Cloud connected callback       â”‚    â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ Particle.onDisconnect() â†’ Cloud lost callback          â”‚    â”‚   â”‚
â”‚  â”‚  â”‚                                                            â”‚    â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚   â”‚
â”‚  â”‚                                        â”‚                           â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚   â”‚
â”‚  â”‚  â”‚            Particle OS Threading & Services              â”‚    â”‚   â”‚
â”‚  â”‚  â”‚                                                            â”‚    â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ WiFi Management (automatic connection)                â”‚    â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ Cloud Synchronization (TCP/SSL)                       â”‚    â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ System Tasks (background services)                    â”‚    â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ OTA Update Handler                                    â”‚    â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ Power Management                                      â”‚    â”‚   â”‚
â”‚  â”‚  â”‚                                                            â”‚    â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚   â”‚
â”‚  â”‚                                        â”‚                           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                           â”‚                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚            nRF52840 MCU (Primary Processor)                        â”‚   â”‚
â”‚  â”‚                                                                    â”‚   â”‚
â”‚  â”‚  â€¢ 256 KB RAM                                                      â”‚   â”‚
â”‚  â”‚  â€¢ 1 MB Flash                                                      â”‚   â”‚
â”‚  â”‚  â€¢ GPIO: D0-D8, A0-A5                                             â”‚   â”‚
â”‚  â”‚  â€¢ Built-in RGB LED                                              â”‚   â”‚
â”‚  â”‚  â€¢ UART, SPI, I2C, PWM                                           â”‚   â”‚
â”‚  â”‚  â€¢ BLE support (via device OS)                                   â”‚   â”‚
â”‚  â”‚                                                                    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚       Internal ESP32 (NCP - Network Co-Processor)                 â”‚   â”‚
â”‚  â”‚       [Managed by Particle OS - No User Code]                    â”‚   â”‚
â”‚  â”‚                                                                    â”‚   â”‚
â”‚  â”‚  â€¢ WiFi Radio Controller                                          â”‚   â”‚
â”‚  â”‚  â€¢ Transparent to application                                     â”‚   â”‚
â”‚  â”‚                                                                    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   USB-C Port   â”‚  (Power & Serial)
                    â”‚   WiFi Antenna â”‚
                    â”‚   Buttons      â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚    Internet     â”‚
                   â”‚  (WiFi Network) â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                                     â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  Particle Cloud    â”‚          â”‚  Particle Cloud    â”‚
    â”‚  (alice_to_bob)    â”‚          â”‚  (bob_to_alice)    â”‚
    â”‚                    â”‚          â”‚                    â”‚
    â”‚  Event Broker &    â”‚          â”‚  Event Broker &    â”‚
    â”‚  Message Router    â”‚          â”‚  Message Router    â”‚
    â”‚                    â”‚          â”‚                    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚                               â”‚
         â”Œâ”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”
         â”‚                                       â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  ALICE DEVICE  â”‚              â”‚   BOB DEVICE   â”‚
    â”‚ (Argon Board)  â”‚              â”‚ (Argon Board)  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Message Flow Diagram

```
INITIALIZATION PHASE:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Alice Device                          Bob Device
     â”‚                                    â”‚
     â”œâ”€ setup()                           â”œâ”€ setup()
     â”œâ”€ Particle.onConnect()              â”œâ”€ Particle.onConnect()
     â”œâ”€ Particle.subscribe()              â”œâ”€ Particle.subscribe()
     â””â”€ Wait for cloud connection         â””â”€ Wait for cloud connection
     â”‚                                    â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Both Online â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


SYNCHRONIZATION PHASE:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Alice                        Particle Cloud              Bob
  â”‚                              â”‚                       â”‚
  â”‚                              â”‚â—„â”€â”€ Alice subscribe    â”‚
  â”‚                              â”‚                       â”‚
  â”‚                              â”‚ â”€â”€ Bob subscribe â”€â”€â”€â”€â–ºâ”‚
  â”‚                              â”‚                       â”‚
  â”‚                              â”‚                       â”‚â”€â”€ send "ready"
  â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
  â”‚ (receives "ready")           â”‚                       â”‚
  â”‚                              â”‚                       â”‚
  â”‚â”€â”€ send "ack" â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                       â”‚
  â”‚                              â”‚ â”€â”€ "ack" â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
  â”‚                              â”‚                       â”‚
  â”‚                              â””â”€ Synchronization OK â”€â”€â”˜
  â”‚
  â””â”€ Begin Tests (Alice generates keys)


TEST SEQUENCE PHASE (per algorithm):
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. Alice generates keypair (pk, sk)
2. Alice â†’ Cloud â†’ Bob: "Public Key" (pk)
   â”‚
   â””â”€â–º Bob receives & stores (pk)

3. Alice signs message with (sk)
4. Alice â†’ Cloud â†’ Bob: "Signed Message" (sm)
   â”‚
   â””â”€â–º Bob receives & verifies signature

5. Bob verifies signature using (pk)
6. Bob â†’ Cloud â†’ Alice: "Echo Message" (extracted plaintext)
   â”‚
   â””â”€â–º Alice verifies echo matches original

7. Pass/Fail recorded for algorithm


COMPLETION PHASE:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Alice                            Bob
  â”‚                              â”‚
  â”‚ All tests complete           â”‚ All tests complete
  â”‚ RGB â†’ BLUE                   â”‚ RGB â†’ BLUE
  â”‚                              â”‚
  â””â”€â”€â”€â”€ Tests Complete â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


DATA PACKET FORMAT:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Particle Event Payload:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [Length High Byte]  [Length Low Byte] â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚  [Data Byte 0] [Data Byte 1] ...        â”‚
â”‚  [Data Byte N]                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Example (10-byte message):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  0x00                    0x0A            â”‚
â”‚  [10 bytes of message data...]          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## State Machine Diagram

```
                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                          â”‚   Power ON   â”‚
                          â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                          â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”
                          â”‚    setup()   â”‚
                          â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                     â”‚                       â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
              â”‚ Waiting for â”‚â—„â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚   Connect   â”‚
              â”‚   Cloud     â”‚ (retry  â”‚  to Cloud   â”‚
              â”‚             â”‚  100ms) â”‚             â”‚
              â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                     â”‚                       â”‚
                â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”
                â”‚  Cloud Connection Established  â”‚
                â”‚  RGB: GREEN                    â”‚
                â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”˜
                     â”‚                         â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”
            â”‚Synchronize  â”‚          â”‚   Waiting for  â”‚
            â”‚Alice-Bob    â”‚          â”‚ Synchronizationâ”‚
            â”‚  Protocol   â”‚          â”‚                â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚                        â”‚
                â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”
                â”‚  Both Synchronized             â”‚
                â”‚  RGB: CYAN (start test)        â”‚
                â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”˜
                     â”‚                         â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”
            â”‚   Alice:    â”‚          â”‚      Bob:      â”‚
            â”‚  Generate   â”‚          â”‚     Wait for   â”‚
            â”‚   Keys &    â”‚          â”‚   Public Key   â”‚
            â”‚   Sign      â”‚          â”‚                â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚                        â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”
            â”‚    Send pk  â”‚          â”‚  Receive & pk  â”‚
            â”‚     & sm    â”‚  â”€â”€â”€â”€â”€â–º  â”‚     Store pk   â”‚
            â”‚             â”‚          â”‚                â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚                        â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”
            â”‚   Receive   â”‚          â”‚    Verify &    â”‚
            â”‚    Echo     â”‚  â—„â”€â”€â”€â”€â”€  â”‚  Send Echo     â”‚
            â”‚             â”‚          â”‚                â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚                        â”‚
                â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”
                â”‚  Next Algorithm (loop)         â”‚
                â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”˜
                     â”‚                         â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”
         â”‚  All algorithms  â”‚        â”‚ Test Next   â”‚
         â”‚     tested?      â”‚        â”‚ Algorithm   â”‚
         â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
          YES  â”‚      â”‚ NO                    â”‚
              â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
         â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  Tests Complete      â”‚
         â”‚  RGB: BLUE (solid)   â”‚
         â”‚  Publish: "complete" â”‚
         â”‚  Ready for next run  â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


LED Status Legend:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸŸ¨ Yellow   = Connecting to cloud
ğŸŸ© Green    = Cloud connected (ready)
ğŸŸ¦ Cyan     = Tests running
ğŸŸ¥ Red      = Connection lost
ğŸŸ¦ Blue     = Tests complete
```

## Device Roles: Alice vs Bob

```
ALICE DEVICE                    BOB DEVICE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•            â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. Generate Keys                1. Receive Keys
   - Private Key (sk)              - Public Key (pk)
   - Public Key (pk)

2. Sign Message                 2. Verify Signature
   Input: Message + sk            Input: Signed Message + pk
   Output: Signature              Output: Verified Message

3. Send:                        3. Receive:
   - Public Key (1st)             - Public Key
   - Signed Message (2nd)         - Signed Message

4. Receive Echo:                4. Send Echo:
   - Extract plaintext            - Extract from verification
   - Compare with original        - Send back to Alice

5. Result:                      5. Result:
   PASS if echo matches           Verification success = PASS
   original message
```

## Protocol Timing

```
Time â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º

Alice:   Generate Keys  Sign    Wait    Receive    Compare
         Sync   â”‚          â”‚     â”‚       â”‚          â”‚
         â”‚      â”‚          â”‚     â”‚       â”‚          â”‚
t=0      â”œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
         â”‚   1s â”‚    2s    â”‚ 30s â”‚   1s  â”‚   Instantâ”‚
         â”‚      â”‚          â”‚     â”‚       â”‚          â”‚


Bob:     Wait      Recv pk  Verify & Send echo
         Sync      â”‚        â”‚         â”‚
         â”‚         â”‚        â”‚         â”‚
t=0      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
         â”‚    30s  â”‚  1s    â”‚  ~200ms â”‚


Legend:
â•â•â•â•â•â•â•
Total per-algorithm time: ~32-35 seconds
Full suite (19 algorithms): ~9-10 minutes
Inter-test delay: 100ms (prevents watchdog timeout)
Message timeout: 30 seconds (per event)
Cloud latency: 100-500ms typical
```

## Component Dependencies

```
particle_argon.ino
â”œâ”€â”€ Particle Device OS
â”‚   â”œâ”€â”€ WiFi Stack (background)
â”‚   â”œâ”€â”€ Cloud Connection Manager
â”‚   â”œâ”€â”€ Event Pub/Sub System
â”‚   â”œâ”€â”€ Serial/Logging
â”‚   â””â”€â”€ GPIO/LED Control
â”‚
â”œâ”€â”€ Post-Quantum DSA Libraries (C, platform-agnostic)
â”‚   â”œâ”€â”€ Falcon (512, 1024, padded)
â”‚   â”œâ”€â”€ ML-DSA (44, 65, 87)
â”‚   â””â”€â”€ SPHINCS+ (SHA2/SHAKE, 128/192/256-bit)
â”‚
â””â”€â”€ Standard C Libraries
    â”œâ”€â”€ stdlib.h (malloc, free)
    â”œâ”€â”€ string.h (memcpy, strcmp)
    â””â”€â”€ stdint.h (uint8_t, etc.)


NO DEPENDENCIES ON:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
âœ— FreeRTOS
âœ— ESP-IDF
âœ— External MQTT library
âœ— WiFi driver code
âœ— External cloud client
```

---

**Visual Architecture Complete**  
Refer to [README.md](README.md) for textual overview and [QUICKSTART.md](QUICKSTART.md) for deployment.
